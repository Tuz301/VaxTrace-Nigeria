# ============================================
# VaxTrace Nigeria - Environment Configuration
# ============================================
# This file contains all environment variables needed for the VaxTrace application.
# Copy this file to .env and fill in the actual values.
# NEVER commit .env to version control!

# ============================================
# Application Configuration
# ============================================
NODE_ENV=development
APP_NAME=VaxTrace Nigeria
APP_URL=http://localhost:3000
API_URL=http://localhost:8000
PORT=8000

# ============================================
# Database Configuration (PostgreSQL + PostGIS)
# ============================================
POSTGRES_USER=vaxtrace_admin
POSTGRES_PASSWORD=your_secure_password_here_change_this
POSTGRES_DB=vaxtrace_nigeria
POSTGRES_PORT=5432
POSTGRES_HOST=postgres
DATABASE_URL=postgresql://vaxtrace_admin:your_secure_password_here_change_this@postgres:5432/vaxtrace_nigeria?schema=public

# ============================================
# Redis Configuration
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_TLS_PORT=6380
REDIS_PASSWORD=your_redis_password_here_change_this
REDIS_URL=redis://:your_redis_password_here_change_this@redis:6379
REDIS_TLS_URL=rediss://:your_redis_password_here_change_this@redis:6380

# Cache TTL Configuration (in seconds)
CACHE_TTL_STOCK=900        # 15 minutes for stock data
CACHE_TTL_GEO=86400        # 24 hours for geographic data
CACHE_TTL_USER=3600        # 1 hour for user sessions

# ============================================
# OpenLMIS Integration
# ============================================
OPENLMIS_BASE_URL=https://openlmis.example.org
OPENLMIS_API_KEY=your_openlmis_api_key_here
OPENLMIS_USER_ID=your_service_account_user_id
OPENLMIS_PASSWORD=your_service_account_password_here
OPENLMIS_REALM=openlmis
OPENLMIS_CLIENT_ID=vaxtrace-client
OPENLMIS_CLIENT_SECRET=your_client_secret_here

# Webhook Configuration
WEBHOOK_SECRET=your_webhook_secret_for_signature_verification
WEBHOOK_ENDPOINT=/api/v1/webhook/sync

# ============================================
# Authentication & Authorization
# ============================================
JWT_SECRET=your_jwt_secret_here_minimum_32_characters
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# Auth0 / Firebase Configuration (for user authentication)
AUTH0_DOMAIN=your-tenant.auth0.com
AUTH0_CLIENT_ID=your_auth0_client_id
AUTH0_CLIENT_SECRET=your_auth0_client_secret
AUTH0_AUDIENCE=https://vaxtrace.ng/api

# Role-Based Access Control
RBAC_ADMIN_ROLE=nphcda_director
RBAC_STATE_ROLE=state_cold_chain_officer
RBAC_LGA_ROLE=lga_logistics_officer

# ============================================
# Encryption & Security (AES-256)
# ============================================
ENCRYPTION_KEY=your_32_byte_hex_encryption_key_here_for_aes256
ENCRYPTION_IV_LENGTH=16

# TLS 1.3 Configuration for Galaxy Backbone
TLS_CERT_PATH=/etc/ssl/certs/vaxtrace.crt
TLS_KEY_PATH=/etc/ssl/private/vaxtrace.key
TLS_CA_PATH=/etc/ssl/certs/gbb-ca.crt

# ============================================
# Protobuf Configuration
# ============================================
PROTOBUF_SCHEMA_PATH=./backend/protos
PROTOBUF_PACKAGE=vaxtrace.stock

# ============================================
# Mapbox Configuration
# ============================================
MAPBOX_ACCESS_TOKEN=your_mapbox_public_access_token_here
MAPBOX_STYLE_URL=mapbox://styles/mapbox/dark-v11

# ============================================
# Notification Services
# ============================================
# SMS Gateway (e.g., Twilio, Termii)
SMS_PROVIDER=twilio
SMS_ACCOUNT_SID=your_twilio_account_sid
SMS_AUTH_TOKEN=your_twilio_auth_token
SMS_FROM_NUMBER=+2348000000000

# WhatsApp Business API
WHATSAPP_API_KEY=your_whatsapp_api_key
WHATSAPP_PHONE_NUMBER_ID=your_whatsapp_phone_number_id

# ============================================
# Development Tools (Optional)
# ============================================
PGADMIN_EMAIL=admin@vaxtrace.ng
PGADMIN_PASSWORD=your_pgadmin_password_here
PGADMIN_PORT=5050

REDIS_COMMANDER_PORT=8081

# ============================================
# Logging & Monitoring
# ============================================
LOG_LEVEL=debug
LOG_FORMAT=json
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ============================================
# Compliance (NDPR)
# ============================================
DATA_RETENTION_DAYS=2555  # 7 years as per Nigeria health data regulations
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# ============================================
# Performance & Scaling
# ============================================
MAX_CONNECTIONS=200
SHARED_BUFFERS=256MB
EFFECTIVE_CACHE_SIZE=1GB
REDIS_MAX_MEMORY=512mb
